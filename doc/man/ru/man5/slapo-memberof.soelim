.\" $ReOpenLDAP$
.\" Copyright 1992-2018 ReOpenLDAP AUTHORS: please see AUTHORS file.
.\" All rights reserved.
.\"
.\" This file is part of ReOpenLDAP.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted only as authorized by the OpenLDAP
.\" Public License.
.\"
.\" A copy of this license is available in the file LICENSE in the
.\" top-level directory of the distribution or, alternatively, at
.\" <http://www.OpenLDAP.org/license.html>.

.TH SLAPO-MEMBEROF 5 "@RELEASE_DATE@" "ReOpenLDAP @VERSION@"

.SH НАЗВАНИЕ
slapo\-memberof \- Наложение slapd обратного членства в группе

.SH СИНТАКСИС
@SYSCONFDIR@/slapd.conf

.SH ОПИСАНИЕ
Наложение
.BR slapd (8)
.B memberof
позволяет автоматически поддерживать обратное членство в группе.
Всякий раз при модификации записи-группы записи её членов при необходимости изменяются так,
чтобы атрибут "является членом того-то" (имеющий в качестве значения DN) записи-члена получал значение DN записи-группы.

.SH КОНФИГУРАЦИЯ
Специфичные для наложения
.B memberof
директивы конфигурации должны иметь префикс
.BR memberof\- ,
во избежание потенциальных конфликтов с директивами базы данных, к которой применяется это наложение,
или с другими наложениями, применяемыми к той же базе данных.

.TP
.B overlay memberof
Эта директива добавляет наложение memberof к текущей базе данных; подробнее смотрите в
.BR slapd.conf (5).

.LP
Далее следуют директивы конфигурации наложения memberof, определяемые в
.BR slapd.conf .

.TP
.BI memberof\-group\-oc \ <group-oc>
Значение
.IR <group-oc> \ -
это имя объектного класса, на который срабатывает обновление обратного членства в группе.
По умолчанию - \fIgroupOfNames\fP.

.TP
.BI memberof\-member\-ad \ <member-ad>
Значение
.IR <member-ad> \ -
это имя атрибута, содержащего имена членов в групповом объекте;
этот атрибут должен иметь в качестве значения DN.
По умолчанию - \fImember\fP.

.TP
.BI memberof\-memberof\-ad \ <memberof-ad>
Значение
.IR <memberof-ad> \ -
это имя атрибута, содержащего имена групп, членами которых является запись;
этот атрибут должен иметь в качестве значения DN.
Его содержимое автоматически обновляется наложением \fBmemberOf\fP.
По умолчанию - \fImemberOf\fP.

.TP
.BI memberof\-dn \ <dn>
Значение
.I <dn>
содержит DN, использующееся в качестве \fImodifiersName\fP
для внутренних модификаций, выполняемых для обновления обратного членства в группе.
По умолчанию - \fIrootdn\fP базы данных, к которой применяется наложение.

.TP
.BI "memberof\-dangling {" ignore ", " drop ", " error "}"
Эта директива определяет поведение наложения, когда во время модификации
оно сталкивается с никуда не указывающими ссылками. Значение по умолчанию -
.IR ignore ,
в этом случае такие ссылки будут проигнорированы. Другие варианты:
.IR drop ,
когда модификации, затрагивающие битые ссылки, будут отброшены, и
.IR error ,
когда модификации, затрагивающие битые ссылки, приведут к возникновению ошибки.

.TP
.BI memberof\-dangling\-error \ <error-code>
Если значение директивы
.BR memberof\-dangling
установлено в
.IR error ,
этот параметр конфигурации может быть использован для модификации кода ответа,
возвращаемого в случае нарушения. Значение по умолчанию - "constraint violation",
но некоторые реализации могут возвращать вместо этого "no such object".

.TP
.BI "memberof\-refint {" true "|" FALSE "}"
Эта директива определяет, будет ли данное наложение пытаться сохранить целостность
связанных данных или нет. Если значение директивы установлено в
.IR TRUE ,
то в случае модификации записи, содержащей значения атрибута "является членом того-то",
также будут модифицированы соответствующие группы.

.LP
Наложение memberof может использоваться с любыми механизмами манипуляции данными,
обеспечивающими полную функциональность чтения-записи, но главным образом
оно предназначено для использования с механизмами локального хранения данных.
Выполняемые наложением операции по поддержанию обратного членства в группах
являются внутренними для того сервера, на котором оно настроено, и никогда не реплицируются.
Если требуется, чтобы атрибуты memberOf поддерживались на серверах-репликах,
эти серверы следует сконфигурировать так, чтобы у них были настроены свои собственные
экземпляры наложения memberof. Имейте ввиду, что наложение slapo-memberOf несовместимо с репликацией
на основе механизма syncrepl, его не следует использовать в реплицируемом окружении. В качестве
альтернативы можно использовать наложение slapo-dynlist для эмуляции поведения slapo-memberOf.

.SH ФАЙЛЫ
.TP
@SYSCONFDIR@/slapd.conf
конфигурационный файл slapd по умолчанию
.SH СМОТРИТЕ ТАКЖЕ
.BR slapd.conf (5),
.BR slapd\-config (5),
.BR slapd (8).
Наложение
.BR slapo\-memberof (5)
поддерживает динамическую конфигурацию через
.BR back-config .
.SH ПРИЗНАНИЕ ЗАСЛУГ
.P
Этот модуль был написан в 2005 году Pierangelo Masarati для SysNet s.n.c.
